<!doctype html>
<html lang="id">
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width,initial-scale=1"/>
  <title>User • BukanBodong</title>
  <link rel="stylesheet" href="ui.css"/>
</head>
<body>
  <div class="wrap">
    <!-- Navigation -->
    <div class="nav">
      <div class="brand">
        <div class="dot"></div>
        <div>
          <div class="title">BukanBodong.</div>
          <div class="sub" id="who">—</div>
        </div>
      </div>

      <div class="row">
        <span class="badge live">Live</span>
        <a class="btn" href="admin.html" id="adminLink" style="display:none;">Admin</a>
        <button class="btn" id="btnLogout">Logout</button>
      </div>
    </div>

    <!-- Main Layout with Sidebar -->
    <div class="main-layout">
      <!-- Left Column: Main Content -->
      <div class="main-content">
        <!-- Current Balance Card -->
        <div class="card">
          <div class="h1" style="margin:0;">Current Balance</div>
          <div class="muted">Real time update. Don't worry.</div>

          <div class="kpis-wrapper">
            <div class="kpis" style="margin-top:12px;">
              <div class="kpi">
                <div class="k">Balance</div>
                <div class="v" id="kSaldo">—</div>
              </div>
              <div class="kpi">
                <div class="k">Income</div>
                <div class="v" id="kIn">—</div>
              </div>
              <div class="kpi">
                <div class="k">Expense</div>
                <div class="v" id="kOut">—</div>
              </div>
            </div>
          </div>

          <div class="muted" style="margin-top:10px;" id="meta">—</div>
        </div>

        <!-- Pocket Valas Card -->
        <div class="card" style="margin-top:18px;">
          <div class="row space">
            <div>
              <div class="h2">Forex Pocket</div>
              <div class="muted">Forex balance after IDR conversion.</div>
            </div>
            <span class="pill" id="pocketCount">—</span>
          </div>

          <div id="pocketCards" style="margin-top:12px; display:grid; grid-template-columns:repeat(3,1fr); gap:12px;"></div>
        </div>

        <!-- History Card -->
        <div class="card" style="margin-top:18px;">
          <div class="row space">
            <div>
              <div class="h2">History</div>
              <div class="muted">You can sort it tho.</div>
            </div>
            <span class="pill" id="count">—</span>
          </div>

          <div class="tableWrap">
            <table>
              <thead>
                <tr>
                  <th class="sortable" data-sort="date">Date <span class="sortIcon" id="si_date">↕</span></th>
                  <th class="sortable" data-sort="note">Note <span class="sortIcon" id="si_note">↕</span></th>
                  <th class="sortable num" data-sort="amount">Amount <span class="sortIcon" id="si_amount">↕</span></th>
                  <th class="sortable" data-sort="currency">Currency <span class="sortIcon" id="si_currency">↕</span></th>
                  <th class="sortable" data-sort="type">Type <span class="sortIcon" id="si_type">↕</span></th>
                  <th class="num">Running Balance</th>
                </tr>
              </thead>
              <tbody id="txBody">
                <tr><td colspan="6">
                  <div class="empty">
                    <!-- <div class="emoji">⏳</div> -->
                    <div class="big">Loading data…</div>
                    <div>Please wait a moment.</div>
                  </div>
                </td></tr>
              </tbody>
            </table>
          </div>
        </div>
      </div>

      <!-- Right Column: Filter Sidebar -->
      <aside class="filter-sidebar">
        <div class="card">
          <div class="h2">Filter</div>
          <div class="muted">Filter transactions.</div>

          <div class="field">
            <div class="label">Month</div>
            <select id="filterMonth">
              <option value="">All</option>
            </select>
          </div>

          <div class="field">
            <div class="label">Type</div>
            <select id="filterType">
              <option value="">All</option>
              <option value="in">Income</option>
              <option value="out">Expense</option>
            </select>
          </div>

          <div class="field">
            <div class="label">Search note</div>
            <input id="filterSearch" class="input" placeholder="mis: makan, buku…"/>
          </div>

          <div class="row gap2" style="margin-top:16px;">
            <button class="btn primary" id="btnReset">Reset</button>
            <!-- <button class="btn ghost" id="btnReload">Reload</button> -->
          </div>
        </div>
      </aside>
    </div>
  </div>

  <footer class="footer">
    © 2025 <strong>BukanBodong</strong>. All rights reserved. Website ini dikelola pribadi oleh CEO. Tidak diawasi OJK.
  </footer>

  <script src="firebase-config.js"></script>
  <script type="module" src="user.js"></script>
</body>
</html>