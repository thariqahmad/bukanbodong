<!doctype html>
<html lang="id">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Admin • Tabungan</title>
  <link rel="stylesheet" href="ui.css" />
</head>
<body>
  <div class="wrap">
    <div class="nav">
      <div class="brand">
        <div class="dot"></div>
        <div>
          <div class="title">Admin Panel</div>
          <div class="sub" id="who">—</div>
        </div>
      </div>
      <div class="row">
        <a class="btn" href="user.html">Lihat mode user</a>
        <button id="btnLogout" class="btn">Logout</button>
      </div>
    </div>

    <div class="grid">
      <div class="card">
        <div class="h1">Tambah transaksi</div>
        <div class="muted">Admin bisa input histori cashflow.</div>

        <div class="field">
          <label class="muted">Username target (adik)</label>
          <input id="targetUsername" class="input" placeholder="misal: adik" />
        </div>

        <div class="row">
          <div class="field" style="flex:1;">
            <label class="muted">Tanggal</label>
            <input id="date" class="input" type="date" />
          </div>
          <div class="field" style="flex:1;">
            <label class="muted">Tipe</label>
            <select id="type">
              <option value="in">Masuk (Nabung)</option>
              <option value="out">Keluar (Dipakai)</option>
            </select>
          </div>
        </div>

        <div class="row">
          <div class="field" style="flex:1;">
            <label class="muted">Nominal</label>
            <input id="amount" class="input" inputmode="numeric" placeholder="contoh: 15000" />
          </div>
          <div class="field" style="flex:2;">
            <label class="muted">Catatan</label>
            <input id="note" class="input" placeholder="contoh: jajan / buku" />
          </div>
        </div>

        <div class="row" style="margin-top:14px;">
          <button id="btnAdd" class="btn primary">Simpan</button>
          <button id="btnRefresh" class="btn">Refresh tabel</button>
        </div>

        <div id="msg" class="toast">—</div>
      </div>

      <div class="card">
        <div class="h1">Ringkasan</div>
        <div class="muted">Saldo target dihitung dari histori.</div>
        <div class="balance" id="balance">—</div>
        <div class="row">
          <span class="pill" id="sumIn">Masuk: —</span>
          <span class="pill" id="sumOut">Keluar: —</span>
        </div>
      </div>
    </div>

    <div class="card">
      <div class="row">
        <div>
          <div class="title">Histori (target)</div>
          <div class="sub">Transaksi username target</div>
        </div>
        <span class="pill" id="status">—</span>
      </div>

      <div class="tableWrap">
        <table>
          <thead>
            <tr>
              <th>Tanggal</th>
              <th>Catatan</th>
              <th class="right">Masuk</th>
              <th class="right">Keluar</th>
              <th class="right">Saldo</th>
            </tr>
          </thead>
          <tbody id="txBody"><tr><td colspan="5">—</td></tr></tbody>
        </table>
      </div>
    </div>
  </div>

  <script src="firebase-config.js"></script>
  <script type="module" src="admin.js"></script>
</body>
</html>